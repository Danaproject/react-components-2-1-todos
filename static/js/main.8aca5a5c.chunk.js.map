{"version":3,"sources":["components/Container/Container.module.css","components/IconButton/IconButton.module.css","components/Container/Container.jsx","components/Todo/Todo.jsx","components/TodoList/TodoList.js","components/TodoEditor/TodoEditor.jsx","components/TodoFilter/TodoFilter.jsx","components/Modal/Modal.jsx","components/IconButton/IconButton.jsx","icons/add.svg","App.js","index.js"],"names":["module","exports","Container","children","className","styles","Todo","text","completed","onToggleCompleted","onDelete","type","checked","onChange","onClick","TodoList","todos","onDeleteTodo","onMakeItemClassName","map","id","TodoEditor","state","message","handleChange","e","setState","currentTarget","value","handleSubmit","preventDefault","props","onSubmit","this","Component","Filter","modalRoot","document","querySelector","Modal","handleKeyDown","code","console","log","onClose","handleBackdropClick","event","target","window","addEventListener","removeEventListener","createPortal","IconButton","allyProps","defaultProps","_path","_path2","_extends","Object","assign","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgAdd","_ref","svgRef","title","titleId","xmlns","viewBox","ref","d","fill","ForwardRef","App","filter","showModal","addTodo","todo","shortid","generate","deleteTodo","todoId","toggleCompleted","changeFilter","getVisibleTodos","normalizedFilter","toLowerCase","includes","calculateCompletedTodos","reduce","total","makeItemClassName","itemClasses","push","join","toggleModal","localStorage","getItem","parsedTodos","JSON","parse","prevProps","prevState","nextTodos","prevTodos","setItem","stringify","totalTodoCount","completedTodoCount","visibleTodos","aria-label","width","height","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.8aca5a5c.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"Container_Container__3tQ9A\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"IconButton\":\"IconButton_IconButton__3sU0k\"};","import styles from './Container.module.css';\n\nconst Container = ({ children }) => <div className={styles.Container}>{children}</div>;\n\nexport default Container;","\nconst Todo = ({ text, completed, onToggleCompleted, onDelete }) => (\n  <>\n    <input\n      type=\"checkbox\"\n      className=\"TodoList__checkbox\"\n      checked={completed}\n      onChange={onToggleCompleted}\n    />\n    <p className=\"TodoList__text\">{text}</p>\n    <button type=\"button\" className=\"TodoList__btn\" onClick={onDelete}>\n      Delete\n    </button>\n  </>\n);\n\nexport default Todo;","import './TodoList.css';\nimport Todo from '../Todo';\n\nconst TodoList = ({ todos, onDeleteTodo, onToggleCompleted, onMakeItemClassName }) => (\n    <ul className=\"TodoList\">\n        {todos.map(({ id, text, completed }) => (\n        <li key={id} className={onMakeItemClassName(completed)}>\n        <Todo\n          text={text}\n          completed={completed}\n          onToggleCompleted={() => onToggleCompleted(id)}\n          onDelete={() => onDeleteTodo(id)}\n        />\n      </li>\n    ))}\n  </ul>\n);\n\nexport default TodoList;","import { Component } from 'react';\nimport './TodoEditor.css';\n\nclass TodoEditor extends Component {\n  state = {\n    message: '',\n  };\n\n  handleChange = e => {\n    this.setState({ message: e.currentTarget.value });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n\n    this.props.onSubmit(this.state.message);\n\n    this.setState({ message: '' });\n  };\n\n  render() {\n    return (\n      <form className=\"TodoEditor\" onSubmit={this.handleSubmit}>\n        <textarea\n          className=\"TodoEditor__textarea\"\n          value={this.state.message}\n          onChange={this.handleChange}\n        ></textarea>\n        <button type=\"submit\" className=\"TodoEditor__button\">\n          Save\n        </button>\n      </form>\n    );\n  }\n}\n\nexport default TodoEditor;","import './TodoFilter.css';\n\nconst Filter = ({ value, onChange }) => (\n  <label className=\"Filter__label\">\n    Filter by name\n    <input type=\"text\" value={value} className=\"Filter\" onChange={onChange} />\n  </label>\n);\n\nexport default Filter;","import { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport './Modal.css';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nexport default class Modal extends Component {\n  componentDidMount() {\n    console.log('Modal componentDidMount');\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    console.log('Modal componentWillUnmount');\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n\n  handleKeyDown = e => {\n    if (e.code === 'Escape') {\n      console.log('Нажали ESC, нужно закрыть модалку');\n\n      this.props.onClose();\n    }\n  };\n\n  handleBackdropClick = event => {\n    if (event.currentTarget === event.target) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    return createPortal(\n      <div className=\"Modal__backdrop\" onClick={this.handleBackdropClick}>\n        <div className=\"Modal__content\">{this.props.children}</div>\n      </div>,\n      modalRoot,\n    );\n  }\n}","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './IconButton.module.css';\n\nconst IconButton = ({ children, onClick, ...allyProps }) => (\n  <button type=\"button\" className={styles.IconButton} onClick={onClick} {...allyProps}>\n    {children}\n  </button>\n);\n\nIconButton.defaultProps = {\n  onClick: () => null,\n  children: null,\n};\n\nIconButton.propTypes = {\n  onClick: PropTypes.func,\n  children: PropTypes.node,\n  'aria-label': PropTypes.string.isRequired,\n};\n\nexport default IconButton;","var _path, _path2;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgAdd(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M0 0h24v24H0z\",\n    fill: \"none\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgAdd);\nexport default __webpack_public_path__ + \"static/media/add.b32f3a09.svg\";\nexport { ForwardRef as ReactComponent };","\nimport React, { Component } from 'react';\nimport shortid from 'shortid';\nimport Container from './components/Container/Container';\nimport TodoList from './components/TodoList';\nimport TodoEditor from './components/TodoEditor';\nimport Filter from './components/TodoFilter';\nimport Modal from './components/Modal';\nimport IconButton from './components/IconButton';\nimport { ReactComponent as AddIcon } from './icons/add.svg';\n\nclass App extends Component {\n  state = {\n    todos: [],\n    filter: '',\n    showModal: false,\n  };\n\n  componentDidMount() {\n\n    const todos = localStorage.getItem('todos');\n    const parsedTodos = JSON.parse(todos);\n\n    if (parsedTodos) {\n      this.setState({ todos: parsedTodos });\n    }\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n\n    const nextTodos = this.state.todos;\n    const prevTodos = prevState.todos;\n\n    if (nextTodos !== prevTodos) {\n      localStorage.setItem('todos', JSON.stringify(nextTodos));\n    }\n\n    if (nextTodos.length > prevTodos.length && prevTodos.length !== 0) {\n      this.toggleModal();\n    }\n  }\n\n  addTodo = text => {\n    const todo = {\n      id: shortid.generate(),\n      text,\n      completed: false,\n    };\n\n    this.setState(({ todos }) => ({\n      todos: [todo, ...todos],\n    }));\n\n    // this.toggleModal();\n  };\n\n  deleteTodo = todoId => {\n    this.setState(({ todos }) => ({\n      todos: todos.filter(({ id }) => id !== todoId),\n    }));\n  };\n\n  toggleCompleted = todoId => {\n    this.setState(({ todos }) => ({\n      todos: todos.map(todo =>\n        todo.id === todoId ? { ...todo, completed: !todo.completed } : todo,\n      ),\n    }));\n  };\n\n  changeFilter = e => {\n    this.setState({ filter: e.currentTarget.value });\n  };\n\n  getVisibleTodos = () => {\n    const { filter, todos } = this.state;\n    const normalizedFilter = filter.toLowerCase();\n\n    return todos.filter(({ text }) =>\n      text.toLowerCase().includes(normalizedFilter),\n    );\n  };\n\n  calculateCompletedTodos = () => {\n    const { todos } = this.state;\n\n    return todos.reduce(\n      (total, todo) => (todo.completed ? total + 1 : total),\n      0,\n    );\n  };\n    makeItemClassName = completed => {\n    const itemClasses = ['TodoList__item'];\n\n    if (completed) {\n      itemClasses.push('TodoList__item--completed');\n    }\n    return itemClasses.join(' ');\n  };\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n  };\n\n  render() {\n    const { todos, filter, showModal } = this.state;\n    const totalTodoCount = todos.length;\n    const completedTodoCount = this.calculateCompletedTodos();\n    const visibleTodos = this.getVisibleTodos();\n\n    return (\n      <Container>\n        <div className=\"Panel\">\n        <IconButton onClick={this.toggleModal} aria-label=\"Add todo\">\n          <AddIcon width=\"40\" height=\"40\" fill=\"#fff\" />\n        </IconButton>\n\n        {showModal && (\n          <Modal onClose={this.toggleModal}>\n            <TodoEditor onSubmit={this.addTodo} />\n          </Modal>\n        )}\n        \n          <p>Total todos: {totalTodoCount}</p>\n          <p>Completed: {completedTodoCount}</p>\n        </div>\n\n        {totalTodoCount > 0 && <Filter value={filter} onChange={this.changeFilter} />}\n\n        <TodoList\n          todos={visibleTodos}\n          onDeleteTodo={this.deleteTodo}\n          onToggleCompleted={this.toggleCompleted}\n          onMakeItemClassName={this.makeItemClassName}\n        />\n      </Container>\n    );\n  }\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport 'modern-normalize/modern-normalize.css';\nimport './styles.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}